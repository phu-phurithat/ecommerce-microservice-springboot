replicaCount: 1

initContainers:
  - name: wait-for-config-server
    image: busybox
    command:
      - "sh"
      - "-c"
      - "until nc -z config-server 8888; do echo waiting for config server; sleep 5; done;"

containers:
  gateway:
    image: phuphurithat/ecommerce:gateway
    port: 8222

  customer-service:
    image: phuphurithat/ecommerce:customer-service

  product-service:
    image: phuphurithat/ecommerce:product-service

  order-service:
    image: phuphurithat/ecommerce:order-service

  payment-service:
    image: phuphurithat/ecommerce:payment-service

  notification-service:
    image: phuphurithat/ecommerce:notification-service

  discovery-service:
    image: phuphurithat/ecommerce:discovery-service
    port: 8761

  config-server:
    image: phuphurithat/ecommerce:config-server
    port: 8888
